"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[75935],{3905:(A,e,t)=>{t.d(e,{Zo:()=>l,kt:()=>g});var n=t(67294);function r(A,e,t){return e in A?Object.defineProperty(A,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):A[e]=t,A}function a(A,e){var t=Object.keys(A);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(A);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(A,e).enumerable}))),t.push.apply(t,n)}return t}function i(A){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){r(A,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(A,e,Object.getOwnPropertyDescriptor(t,e))}))}return A}function o(A,e){if(null==A)return{};var t,n,r=function(A,e){if(null==A)return{};var t,n,r={},a=Object.keys(A);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)>=0||(r[t]=A[t]);return r}(A,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(A);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(A,t)&&(r[t]=A[t])}return r}var s=n.createContext({}),p=function(A){var e=n.useContext(s),t=e;return A&&(t="function"==typeof A?A(e):i(i({},e),A)),t},l=function(A){var e=p(A.components);return n.createElement(s.Provider,{value:e},A.children)},d={inlineCode:"code",wrapper:function(A){var e=A.children;return n.createElement(n.Fragment,{},e)}},c=n.forwardRef((function(A,e){var t=A.components,r=A.mdxType,a=A.originalType,s=A.parentName,l=o(A,["components","mdxType","originalType","parentName"]),c=p(t),g=r,u=c["".concat(s,".").concat(g)]||c[g]||d[g]||a;return t?n.createElement(u,i(i({ref:e},l),{},{components:t})):n.createElement(u,i({ref:e},l))}));function g(A,e){var t=arguments,r=e&&e.mdxType;if("string"==typeof A||r){var a=t.length,i=new Array(a);i[0]=c;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=A,o.mdxType="string"==typeof A?A:r,i[1]=o;for(var p=2;p<a;p++)i[p]=t[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}c.displayName="MDXCreateElement"},82043:(A,e,t)=>{t.r(e),t.d(e,{assets:()=>g,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>c,toc:()=>u});var n=t(87462),r=(t(67294),t(3905)),a=t(48141),i=t(59789);var o=t(34068),s=t(59128),p=t(37511);const l={title:"Next.js E-commerce App with Strapi and Chakra UI",description:"Learn the power of Refine for e-commerce with this quick & easy example. This step-by-step Refine SPA tutorial will get you started in no time.",slug:"handcrafted-nextjs-e-commerce-app-tutorial-strapi-chakra-ui",authors:"melih",tags:["refine","e-commerce","strapi","chakra-ui","next.js"],image:"/img/placeholder.png",hide_table_of_contents:!1},d=void 0,c={permalink:"/blog/handcrafted-nextjs-e-commerce-app-tutorial-strapi-chakra-ui",source:"@site/blog/2022-02-14-refine-ecommerce-blog.md",title:"Next.js E-commerce App with Strapi and Chakra UI",description:"Learn the power of Refine for e-commerce with this quick & easy example. This step-by-step Refine SPA tutorial will get you started in no time.",date:"2022-02-14T00:00:00.000Z",formattedDate:"February 14, 2022",tags:[{label:"refine",permalink:"/blog/tags/refine"},{label:"e-commerce",permalink:"/blog/tags/e-commerce"},{label:"strapi",permalink:"/blog/tags/strapi"},{label:"chakra-ui",permalink:"/blog/tags/chakra-ui"},{label:"next.js",permalink:"/blog/tags/next-js"}],readingTime:11.035,hasTruncateMarker:!0,authors:[{name:"Melih Ekinci",title:"Frontend Developer",url:"https://github.com/mlhekinci",imageURL:"https://github.com/mlhekinci.png",key:"melih"}],frontMatter:{title:"Next.js E-commerce App with Strapi and Chakra UI",description:"Learn the power of Refine for e-commerce with this quick & easy example. This step-by-step Refine SPA tutorial will get you started in no time.",slug:"handcrafted-nextjs-e-commerce-app-tutorial-strapi-chakra-ui",authors:"melih",tags:["refine","e-commerce","strapi","chakra-ui","next.js"],image:"/img/placeholder.png",hide_table_of_contents:!1},prevItem:{title:"Top React JS Frameworks Every Developer Should Know",permalink:"/blog/best-react-frameworks"},nextItem:{title:"Implementing Dark Mode In Ant Design Using gulp",permalink:"/blog/how-to-add-darkmode-in-ant-design"},relatedPosts:[{title:"Building an Customizable Invoice Generator App with Refine, Strapi & Ant Design | Part II",permalink:"/blog/refine-invoice-generator",formattedDate:"March 1, 2022",authors:[{name:"Melih Ekinci",title:"Frontend Developer",url:"https://github.com/mlhekinci",imageURL:"https://github.com/mlhekinci.png",key:"melih"}],readingTime:13.925,date:"2022-03-01T00:00:00.000Z"},{title:"Build a Progressive Web App (PWA) with Next.js",permalink:"/blog/next-js-pwa",formattedDate:"September 11, 2022",authors:[{name:"David Omotayo",title:"Frontend developer",url:"https://github.com/david4473",imageURL:"https://github.com/david4473.png",key:"david_omotayo"}],readingTime:18.615,date:"2022-09-11T00:00:00.000Z"},{title:"Build Fast and Customizable Admin Panel with NestJS",permalink:"/blog/customizable-admin-panel-with-nestjs",formattedDate:"October 4, 2021",authors:[{name:"Y\u0131ld\u0131ray \xdcnl\xfc",title:"Software Developer",url:"https://github.com/yildirayunlu",imageURL:"https://github.com/yildirayunlu.png",key:"yildiray"}],readingTime:4.06,date:"2021-10-04T00:00:00.000Z"}],authorPosts:[{title:"Refine vs React-Admin Which is Better for Your Project?",permalink:"/blog/refine-vs-react-admin",formattedDate:"November 26, 2021",authors:[{name:"Melih Ekinci",title:"Frontend Developer",url:"https://github.com/mlhekinci",imageURL:"https://github.com/mlhekinci.png",key:"melih"}],readingTime:14.575,date:"2021-11-26T00:00:00.000Z"},{title:"How to Create Full Stack React/Next.JS Web App in Few Hour",permalink:"/blog/create-full-stack-app-with-refine",formattedDate:"April 29, 2022",authors:[{name:"Melih Ekinci",title:"Frontend Developer",url:"https://github.com/mlhekinci",imageURL:"https://github.com/mlhekinci.png",key:"melih"}],readingTime:8.485,date:"2022-04-29T00:00:00.000Z"},{title:"How to Import CSV File with React",permalink:"/blog/how-to-import-csv",formattedDate:"January 18, 2022",authors:[{name:"Melih Ekinci",title:"Frontend Developer",url:"https://github.com/mlhekinci",imageURL:"https://github.com/mlhekinci.png",key:"melih"}],readingTime:4.28,date:"2022-01-18T00:00:00.000Z"}]},g={authorsImageUrls:[void 0]},u=[{value:"Refine Project Setup",id:"refine-project-setup",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Configure Refine for Strapi-v4",id:"configure-refine-for-strapi-v4",level:3},{value:"Chakra-UI Provider Setup",id:"chakra-ui-provider-setup",level:3},{value:"Create Strapi Collections",id:"create-strapi-collections",level:2},{value:"Create Refine Layout",id:"create-refine-layout",level:2},{value:"Product Card Design with Chakra-UI",id:"product-card-design-with-chakra-ui",level:2},{value:"Fetch Products with SSR",id:"fetch-products-with-ssr",level:2},{value:"<code>GetServerSideProps</code>",id:"getserversideprops",level:3},{value:"Create Product List with Refine",id:"create-product-list-with-refine",level:3},{value:"Adding Store-based Filtering",id:"adding-store-based-filtering",level:2},{value:"Adding Pagination",id:"adding-pagination",level:2},{value:"Adding Basket and Payment features with Snipcart",id:"adding-basket-and-payment-features-with-snipcart",level:2},{value:"Installation Snipcart Widget",id:"installation-snipcart-widget",level:3},{value:"Adding &quot;Add to Basket&quot; Button on ProductCard component",id:"adding-add-to-basket-button-on-productcard-component",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Live Codesandbox Example",id:"live-codesandbox-example",level:2}],m={toc:u};function h(A){let{components:e,...t}=A;return(0,r.kt)("wrapper",(0,n.Z)({},m,t,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:s.Z,alt:"basket"})),(0,r.kt)("br",null),(0,r.kt)("p",null,"In this article, we will create the e-commerce client of our ",(0,r.kt)("a",{parentName:"p",href:"/docs/advanced-tutorials/multi-tenancy/strapi-v4"},"Strapi-Multitenancy")," admin panel that we have done before."),(0,r.kt)("p",null,"It is now used ",(0,r.kt)("strong",{parentName:"p"},"headless")," with the ",(0,r.kt)("strong",{parentName:"p"},"refine")," 3 version. You can use any UI library you want with the ",(0,r.kt)("strong",{parentName:"p"},"headless")," feature."),(0,r.kt)("p",null,"We will use ",(0,r.kt)("a",{parentName:"p",href:"https://strapi.io/"},"Strapi")," and ",(0,r.kt)("a",{parentName:"p",href:"https://chakra-ui.com/"},"Chakra-UI")," together with ",(0,r.kt)("a",{parentName:"p",href:"/docs/advanced-tutorials/ssr/nextjs/"},(0,r.kt)("strong",{parentName:"a"},"Next.js"))," in our E-commerce client example application."),(0,r.kt)("h2",{id:"refine-project-setup"},"Refine Project Setup"),(0,r.kt)("p",null,"Let's start by creating our ",(0,r.kt)("strong",{parentName:"p"},"refine")," project. You can use the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/pankod/superplate"},"superplate")," to create a refine project."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npx superplate-cli -p refine-nextjs refine-ecommerce-example\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 What will be the name of your app \xb7 refine-ecommerce-example\n\u2714 Package manager: \xb7 npm\n\u2714 Do you want to using UI Framework? > No(headless)\n\u2714 Data Provider: Strapi\n\u2714 i18n - Internationalization: \xb7 no\n")),(0,r.kt)("p",null,"superplate will quickly create our ",(0,r.kt)("strong",{parentName:"p"},"refine")," project according to the features we choose. Let's continue by install the ",(0,r.kt)("a",{parentName:"p",href:"/docs/advanced-tutorials/data-provider/strapi-v4/"},(0,r.kt)("strong",{parentName:"a"},"refine")," Strapi-v4 Data Provider")," and Chakra-UI packages that we will use later."),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd refine-ecommerce-example\n\nnpm i @pankod/refine-strapi-v4 @chakra-ui/react @emotion/react@^11 @emotion/styled@^11 framer-motion@^6\n")),(0,r.kt)("p",null,"Our ",(0,r.kt)("strong",{parentName:"p"},"refine")," project and installations are now ready! Let's start using it."),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("h3",{id:"configure-refine-for-strapi-v4"},"Configure Refine for Strapi-v4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/_app.tsx"',title:'"pages/_app.tsx"'},'import React from "react";\nimport { AppProps } from "next/app";\nimport Head from "next/head";\nimport { Refine } from "@pankod/refine-core";\nimport routerProvider from "@pankod/refine-nextjs-router";\n//highlight-next-line\nimport { DataProvider } from "@pankod/refine-strapi-v4";\n\nconst API_URL = "https://api.strapi-multi-tenant.refine.dev/api";\n\nfunction MyApp({ Component, pageProps }: AppProps): JSX.Element {\n    //highlight-next-line\n    const dataProvider = DataProvider(API_URL);\n\n    return (\n        <Refine\n            routerProvider={routerProvider}\n            //highlight-next-line\n            dataProvider={dataProvider}\n        >\n            <Component {...pageProps} />\n        </Refine>\n    );\n}\n')),(0,r.kt)("h3",{id:"chakra-ui-provider-setup"},"Chakra-UI Provider Setup"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/_app.tsx"',title:'"pages/_app.tsx"'},'import React from "react";\nimport { AppProps } from "next/app";\nimport Head from "next/head";\nimport { Refine } from "@pankod/refine-core";\nimport routerProvider from "@pankod/refine-nextjs-router";\nimport { DataProvider } from "@pankod/refine-strapi-v4";\n\n//highlight-next-line\nimport { ChakraProvider } from "@chakra-ui/react";\n\nconst API_URL = "https://api.strapi-multi-tenant.refine.dev/api";\n\nfunction MyApp({ Component, pageProps }: AppProps): JSX.Element {\n    const dataProvider = DataProvider(API_URL);\n\n    return (\n        <Refine routerProvider={routerProvider} dataProvider={dataProvider}>\n            //highlight-start\n            <ChakraProvider>\n                <Component {...pageProps} />\n            </ChakraProvider>\n            //highlight-end\n        </Refine>\n    );\n}\n')),(0,r.kt)("h2",{id:"create-strapi-collections"},"Create Strapi Collections"),(0,r.kt)("p",null,"We created three collections on Strapi as ",(0,r.kt)("inlineCode",{parentName:"p"},"store"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"product")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"order")," and added a relation between them. For detailed information on how to create a collection, you can check ",(0,r.kt)("a",{parentName:"p",href:"https://docs.strapi.io/developer-docs/latest/getting-started/quick-start.html"},"here"),"."),(0,r.kt)("p",null,"We created our collections in the previous Strapi Multitenancy guide. Now we will use the same collections."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/guides-and-concepts/multi-tenancy/strapi-v4/#create-collections"},"Refer to the Project Collections for detailed information. \u2192")),(0,r.kt)("h2",{id:"create-refine-layout"},"Create Refine Layout"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"refine")," ",(0,r.kt)("strong",{parentName:"p"},"headless")," is not affiliated with any UI. It is entirely up to you to customize your UI. Let's create a simple layout for this example."),(0,r.kt)("p",null,"The Layout we've created now will only show the ",(0,r.kt)("strong",{parentName:"p"},"refine")," logo. In the following steps, we will edit our Layout."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="components/Layout.tsx"',title:'"components/Layout.tsx"'},'import { LayoutProps } from "@pankod/refine-core";\nimport { Box, Container, Flex, Image } from "@chakra-ui/react";\n\nexport const Layout: React.FC<LayoutProps> = ({ children }) => {\n    return (\n        <Box\n            display={"flex"}\n            flexDirection={"column"}\n            backgroundColor={"#eeeeee"}\n            minH={"100vh"}\n        >\n            <Container maxW={"container.lg"}>\n                <Flex justify={"space-between"} mt={4} alignSelf={"center"}>\n                    <a href="https://refine.dev">\n                        <Image alt="Refine Logo" src={"./refine_logo.png"} />\n                    </a>\n                </Flex>\n                {children}\n            </Container>\n        </Box>\n    );\n};\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/_app.tsx"',title:'"pages/_app.tsx"'},'import React from "react";\nimport { AppProps } from "next/app";\nimport Head from "next/head";\nimport { Refine } from "@pankod/refine-core";\nimport routerProvider from "@pankod/refine-nextjs-router";\nimport { DataProvider } from "@pankod/refine-strapi-v4";\n\nimport { ChakraProvider } from "@chakra-ui/react";\n//highlight-next-line\nimport { Layout } from "src/components";\n\nconst API_URL = "https://api.strapi-multi-tenant.refine.dev/api";\n\nfunction MyApp({ Component, pageProps }: AppProps): JSX.Element {\n    const dataProvider = DataProvider(API_URL);\n\n    return (\n        <Refine\n            routerProvider={routerProvider}\n            dataProvider={dataProvider}\n            //highlight-next-line\n            Layout={Layout}\n        >\n            <ChakraProvider>\n                <Component {...pageProps} />\n            </ChakraProvider>\n        </Refine>\n    );\n}\n')),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:"data:image/png;base64,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AEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEAAFQAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEQAAAAABAAAQAAAAABEAAAAAAYNQBcFUABAAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAACgdAFcEQAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAAAQAAEAAACASQ6AqwIgAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAw6AKwIgAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAIgAAAAACAAAgAAAAACIAAAAAAwHgFwVQAEAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAAEQAAAAABAAAQAAAAABEAAAAAAYbgBcEQABAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEAAFQAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEQA8DAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAAFQAAQAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAABAABQAAQAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAABAAPQwAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAACoNQCuCoAAAAAAYAIQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAAEQAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAQAAUAAEAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAAAQAAEAAACA3RUAVwVAAAAAABAAAQAAAAABEAAAAAAQAAEAAAAAARAAAAAAEAABAAAAAAEQAAAAAARAAAAAAEAABAAAAAAmIQCuCIAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAACIACIAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAACoIcBAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAgAAoAAIAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAAAgAAqAAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAAAiAHgYAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAA7PYAuCoAAgAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAAIAACAAAAAAIgAAAAACAAAgAAAIAACAAAAAAIgAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAACAAAgAAAAACIAAAAAAgAAIAAAAAAiAAAAAA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",alt:"layout"})),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"product-card-design-with-chakra-ui"},"Product Card Design with Chakra-UI"),(0,r.kt)("p",null,"Let's design our product cards with Chakra-UI."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/ProductCard.tsx"',title:'"src/components/ProductCard.tsx"'},'import React from "react";\n//highlight-next-line\nimport { Box, Image, Badge, Button } from "@chakra-ui/react";\n\nexport type ProductProps = {\n    id: string;\n    title: string;\n    description: string;\n    cardImage: string;\n};\n\nexport const ProductCard: React.FC<ProductProps> = ({\n    id,\n    title,\n    description,\n    cardImage,\n}) => {\n    return (\n        <Box maxH={"sm"} borderWidth="1px" borderRadius="lg" overflow="hidden">\n            <Image w={"100%"} h={200} src={cardImage} />\n            <Box p="6" bgColor={"gray.600"}>\n                <Box display="flex" alignItems="baseline" mb={2} ml={-2}>\n                    <Badge borderRadius="full" px="2" colorScheme="teal">\n                        New Product\n                    </Badge>\n                </Box>\n\n                <Box\n                    mt="1"\n                    fontWeight="semibold"\n                    as="h4"\n                    lineHeight="tight"\n                    noOfLines={1}\n                    color={"white"}\n                >\n                    {title}\n                </Box>\n\n                <Box color={"white"}>{}</Box>\n                <Box\n                    color="white"\n                    fontSize="sm"\n                    display={"flex"}\n                    mt={4}\n                    justifyContent={"flex-end"}\n                ></Box>\n            </Box>\n        </Box>\n    );\n};\n')),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:o.Z,alt:"sample_product"})),(0,r.kt)("br",null),(0,r.kt)("p",null,"We created our Product Card component. Now let's move on to the process of fetch and showing our products from the Strapi."),(0,r.kt)("h2",{id:"fetch-products-with-ssr"},"Fetch Products with SSR"),(0,r.kt)("p",null,"First, let's fetch our products with the nextjs ",(0,r.kt)("inlineCode",{parentName:"p"},"getServerSideProps")," function."),(0,r.kt)("h3",{id:"getserversideprops"},(0,r.kt)("inlineCode",{parentName:"h3"},"GetServerSideProps")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/index.tsx"',title:'"pages/index.tsx"'},'//highlight-next-line\nimport { GetServerSideProps } from "next";\nimport { DataProvider } from "@pankod/refine-strapi-v4";\n\nimport { IProduct } from "interfaces";\n\nconst API_URL = "https://api.strapi-multi-tenant.refine.dev/api";\n\n//highlight-start\nexport const getServerSideProps: GetServerSideProps = async (context) => {\n    const data = await DataProvider(API_URL).getList<IProduct>({\n        resource: "products",\n        metaData: { populate: ["image"] },\n    });\n\n    return {\n        props: { products: data },\n    };\n};\n//highlight-end\n')),(0,r.kt)("h3",{id:"create-product-list-with-refine"},"Create Product List with Refine"),(0,r.kt)("p",null,"Let's process the data we fetch above using ",(0,r.kt)("strong",{parentName:"p"},"refine"),"'s ",(0,r.kt)("inlineCode",{parentName:"p"},"useTable")," hook. Then let's put our data in our ProductCard component."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/index.tsx"',title:'"pages/index.tsx"'},'import { GetServerSideProps } from "next";\n//highlight-next-line\nimport { LayoutWrapper, GetListResponse, useTable } from "@pankod/refine-core";\nimport { DataProvider } from "@pankod/refine-strapi-v4";\n\nimport { IProduct } from "interfaces";\nimport { SimpleGrid } from "@chakra-ui/react";\nimport { ProductCard } from "src/components";\n\nconst API_URL = "https://api.strapi-multi-tenant.refine.dev/api";\n\n//highlight-start\ntype ItemProps = {\n    products: GetListResponse<IProduct>;\n};\n//highlight-end\n\nexport const ProductList: React.FC<ItemProps> = ({ products }) => {\n    //highlight-start\n    const { tableQueryResult } = useTable<IProduct>({\n        resource: "products",\n        queryOptions: {\n            initialData: products,\n        },\n        metaData: { populate: ["image"] },\n    });\n    //highlight-end\n\n    return (\n        //highlight-start\n        <LayoutWrapper>\n            <SimpleGrid columns={[1, 2, 3]} mt={6} spacing={3}>\n                {tableQueryResult.data?.data.map((item) => (\n                    <ProductCard\n                        id={item.id}\n                        title={item.title}\n                        description={item.description}\n                        cardImage={\n                            item.image\n                                ? API_URL + item.image.url\n                                : "./error.png"\n                        }\n                    />\n                ))}\n            </SimpleGrid>\n        </LayoutWrapper>\n        //highlight-end\n    );\n};\n\nexport default ProductList;\n\nexport const getServerSideProps: GetServerSideProps = async (context) => {\n    const data = await DataProvider(API_URL).getList<IProduct>({\n        resource: "products",\n        metaData: { populate: ["image"] },\n    });\n\n    return {\n        props: { products: data },\n    };\n};\n')),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:a.Z,alt:"products"})),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"adding-store-based-filtering"},"Adding Store-based Filtering"),(0,r.kt)("p",null,"We have fetch all the products above. Now, let's fetch the stores and list the store-specific products separately."),(0,r.kt)("p",null,"First, let's fetch our stores by using the ",(0,r.kt)("strong",{parentName:"p"},"refine")," ",(0,r.kt)("inlineCode",{parentName:"p"},"useMany")," hook within the ",(0,r.kt)("inlineCode",{parentName:"p"},"getServerSideProps")," function. Next we will create buttons for the stores. When these buttons are clicked, a store is selected, we will do a filtering with ",(0,r.kt)("inlineCode",{parentName:"p"},"useTable")," ",(0,r.kt)("inlineCode",{parentName:"p"},"setFilters")," and list the products specific to that store."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/index.tsx"',title:'"pages/index.tsx"'},'export const getServerSideProps: GetServerSideProps = async (context) => {\n    const data = await DataProvider(API_URL).getList<IProduct>({\n        resource: "products",\n        metaData: { populate: ["image"] },\n        pagination: { current: 1, pageSize: 9 },\n    });\n\n    //highlight-start\n    const { data: storesData } = await DataProvider(API_URL).getMany({\n        resource: "stores",\n        ids: ["1", "2", "3"],\n    });\n    //highlight-end\n\n    return {\n        props: {\n            products: data,\n            //highlight-next-line\n            stores: storesData,\n        },\n    };\n};\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/index.tsx"',title:'"pages/index.tsx"'},'import { GetServerSideProps } from "next";\nimport { LayoutWrapper, GetListResponse, useTable } from "@pankod/refine-core";\nimport { DataProvider } from "@pankod/refine-strapi-v4";\n\nimport { IProduct, IStore } from "interfaces";\nimport { Button, SimpleGrid, Flex, Text } from "@chakra-ui/react";\nimport { ProductCard, FilterButton } from "src/components";\n\nconst API_URL = "https://api.strapi-multi-tenant.refine.dev/api";\n\ntype ItemProps = {\n    products: GetListResponse<IProduct>;\n    //highlight-next-line\n    stores: IStore[];\n};\n\nexport const ProductList: React.FC<ItemProps> = ({ products, stores }) => {\n    const { tableQueryResult, setFilters } = useTable<IProduct>({\n        resource: "products",\n        queryOptions: {\n            initialData: products,\n        },\n        metaData: { populate: ["image"] },\n    });\n\n    return (\n        <LayoutWrapper>\n            //highlight-start\n            <Flex mt={6} gap={2}>\n                <FilterButton\n                    setFilters={() =>\n                        setFilters([\n                            {\n                                field: "stores][id]",\n                                operator: "eq",\n                                value: undefined,\n                            },\n                        ])\n                    }\n                >\n                    <Text fontSize={{ base: "12px", md: "14px", lg: "14px" }}>\n                        All Products\n                    </Text>\n                </FilterButton>\n                {stores?.map((item) => {\n                    return (\n                        <FilterButton\n                            setFilters={() =>\n                                setFilters([\n                                    {\n                                        field: "stores][id]",\n                                        operator: "eq",\n                                        value: item.id,\n                                    },\n                                ])\n                            }\n                        >\n                            <Text\n                                fontSize={{\n                                    base: "12px",\n                                    md: "14px",\n                                    lg: "14px",\n                                }}\n                            >\n                                {item.title}\n                            </Text>\n                        </FilterButton>\n                    );\n                })}\n            </Flex>\n            //highlight-end\n            <SimpleGrid columns={[1, 2, 3]} mt={6} spacing={3}>\n                {tableQueryResult.data?.data.map((item) => (\n                    <ProductCard\n                        id={item.id}\n                        title={item.title}\n                        description={item.description}\n                        cardImage={\n                            item.image\n                                ? API_URL + item.image.url\n                                : "./error.png"\n                        }\n                    />\n                ))}\n            </SimpleGrid>\n        </LayoutWrapper>\n    );\n};\n\nexport default ProductList;\n\nexport const getServerSideProps: GetServerSideProps = async (context) => {\n    const data = await DataProvider(API_URL).getList<IProduct>({\n        resource: "products",\n        metaData: { populate: ["image"] },\n        pagination: { current: 1, pageSize: 9 },\n    });\n\n    const { data: storesData } = await DataProvider(API_URL).getMany({\n        resource: "stores",\n        ids: ["1", "2", "3"],\n    });\n\n    return {\n        props: {\n            products: data,\n            stores: storesData,\n        },\n    };\n};\n')),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:i.Z,alt:"pagination"})),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"adding-pagination"},"Adding Pagination"),(0,r.kt)("p",null,"We list all products on our ",(0,r.kt)("inlineCode",{parentName:"p"},"All Products")," page. Let's add pagination to this page and divide the products into pages. We will perform pagination using the ",(0,r.kt)("inlineCode",{parentName:"p"},"pageSize"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"current")," and setCurrent properties from the useTable hook."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/core/hooks/useTable/#pagination"},"Refer to the useTable documentation for detailed information. \u2192")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/index.tsx"',title:'"pages/index.tsx"'},'import { GetServerSideProps } from "next";\nimport { LayoutWrapper, GetListResponse, useTable } from "@pankod/refine-core";\nimport { DataProvider } from "@pankod/refine-strapi-v4";\n\nimport { IProduct, IStore } from "interfaces";\nimport { Button, SimpleGrid, Flex, Text } from "@chakra-ui/react";\nimport { ProductCard, FilterButton } from "src/components";\n\nconst API_URL = "https://api.strapi-multi-tenant.refine.dev/api";\n\ntype ItemProps = {\n    products: GetListResponse<IProduct>;\n    stores: IStore[];\n};\n\nexport const ProductList: React.FC<ItemProps> = ({ products, stores }) => {\n    //highlight-start\n    const { tableQueryResult, setFilters, current, setCurrent, pageSize } =\n        useTable<IProduct>({\n            resource: "products",\n            queryOptions: {\n                initialData: products,\n            },\n            initialPageSize: 9,\n            metaData: { populate: ["image"] },\n        });\n    //highlight-end\n\n    //highlight-next-line\n    const totalPageCount = Math.ceil(tableQueryResult.data?.total!! / pageSize);\n\n    return (\n        <LayoutWrapper>\n            <Flex mt={6} gap={2}>\n                <FilterButton\n                    setFilters={() =>\n                        setFilters([\n                            {\n                                field: "stores][id]",\n                                operator: "eq",\n                                value: undefined,\n                            },\n                        ])\n                    }\n                >\n                    <Text fontSize={{ base: "12px", md: "14px", lg: "14px" }}>\n                        All Products\n                    </Text>\n                </FilterButton>\n                {stores?.map((item) => {\n                    return (\n                        <FilterButton\n                            setFilters={() =>\n                                setFilters([\n                                    {\n                                        field: "stores][id]",\n                                        operator: "eq",\n                                        value: item.id,\n                                    },\n                                ])\n                            }\n                        >\n                            <Text\n                                fontSize={{\n                                    base: "12px",\n                                    md: "14px",\n                                    lg: "14px",\n                                }}\n                            >\n                                {item.title}\n                            </Text>\n                        </FilterButton>\n                    );\n                })}\n            </Flex>\n            <SimpleGrid columns={[1, 2, 3]} mt={6} spacing={3}>\n                {tableQueryResult.data?.data.map((item) => (\n                    <ProductCard\n                        id={item.id}\n                        title={item.title}\n                        description={item.description}\n                        cardImage={\n                            item.image\n                                ? API_URL + item.image.url\n                                : "./error.png"\n                        }\n                    />\n                ))}\n            </SimpleGrid>\n            //highlight-start\n            <Flex justify={"flex-end"} mt={4} mb={4} gap={2}>\n                {Array.from(Array(totalPageCount), (e, i) => {\n                    if (current > totalPageCount) {\n                        setCurrent(i);\n                    }\n                    return (\n                        <Button\n                            colorScheme={"teal"}\n                            onClick={() => setCurrent(i + 1)}\n                        >\n                            {"Page: " + (i + 1)}\n                        </Button>\n                    );\n                })}\n            </Flex>\n            //highlight-end\n        </LayoutWrapper>\n    );\n};\n\nexport default ProductList;\n\nexport const getServerSideProps: GetServerSideProps = async (context) => {\n    const data = await DataProvider(API_URL).getList<IProduct>({\n        resource: "products",\n        metaData: { populate: ["image"] },\n        pagination: { current: 1, pageSize: 9 },\n    });\n\n    const { data: storesData } = await DataProvider(API_URL).getMany({\n        resource: "stores",\n        ids: ["1", "2", "3"],\n    });\n\n    return {\n        props: { products: data, stores: storesData },\n    };\n};\n')),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:p.Z,alt:"page_size"})),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"adding-basket-and-payment-features-with-snipcart"},"Adding Basket and Payment features with Snipcart"),(0,r.kt)("p",null,"One of the steps that should be in an E-commerce application is the cart and payment transactions. In our example, we will use ",(0,r.kt)("a",{parentName:"p",href:"https://snipcart.com/"},"Snipcart")," for this process."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.snipcart.com/v3/"},"Refer to the Snipcart documentation for detailed information. \u2192")),(0,r.kt)("h3",{id:"installation-snipcart-widget"},"Installation Snipcart Widget"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/_app.tsx"',title:'"pages/_app.tsx"'},'function MyApp({ Component, pageProps }: AppProps): JSX.Element {\n    const dataProvider = DataProvider(API_URL);\n\n    return (\n        <>\n            //highlight-start\n            <Head>\n                <link rel="preconnect" href="https://app.snipcart.com" />\n                <link\n                    rel="stylesheet"\n                    href="https://cdn.snipcart.com/themes/v3.0.16/default/snipcart.css"\n                />\n                <script\n                    async\n                    src="https://cdn.snipcart.com/themes/v3.0.16/default/snipcart.js"\n                />\n            </Head>\n            //highlight-end\n            <Refine\n                routerProvider={routerProvider}\n                dataProvider={dataProvider}\n                resources={[{ name: "products" }]}\n                Layout={Layout}\n            >\n                <ChakraProvider>\n                    <Component {...pageProps} />\n                </ChakraProvider>\n            </Refine>\n            //highlight-start\n            <div hidden id="snipcart" data-api-key="YOUR_SNIPCART_TEST_KEY" />\n            //highlight-end\n        </>\n    );\n}\n')),(0,r.kt)("h3",{id:"adding-add-to-basket-button-on-productcard-component"},'Adding "Add to Basket" Button on ProductCard component'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/ProductCard.tsx"',title:'"src/components/ProductCard.tsx"'},'import React from "react";\nimport { Box, Image, Badge, Button } from "@chakra-ui/react";\n\nexport type ProductProps = {\n    id: string;\n    title: string;\n    description: string;\n    cardImage: string;\n};\n\nexport const ProductCard: React.FC<ProductProps> = ({\n    id,\n    title,\n    description,\n    cardImage,\n}) => {\n    return (\n        <Box\n            maxH={"sm"}\n            maxW="sm"\n            borderWidth="1px"\n            borderRadius="lg"\n            overflow="hidden"\n        >\n            <Image w={"100%"} h={200} src={cardImage} />\n            <Box p="6" bgColor={"gray.600"}>\n                <Box display="flex" alignItems="baseline" mb={2} ml={-2}>\n                    <Badge borderRadius="full" px="2" colorScheme="teal">\n                        New Product\n                    </Badge>\n                </Box>\n\n                <Box\n                    mt="1"\n                    fontWeight="semibold"\n                    as="h4"\n                    lineHeight="tight"\n                    noOfLines={1}\n                    color={"white"}\n                >\n                    {title}\n                </Box>\n                <Box\n                    color="white"\n                    fontSize="sm"\n                    display={"flex"}\n                    mt={4}\n                    justifyContent={"flex-end"}\n                >\n                    //highlight-start\n                    <Button\n                        className="buy-button snipcart-add-item"\n                        bgColor={"green.400"}\n                        data-item-id={id}\n                        data-item-price="5"\n                        data-item-url="/"\n                        data-item-name={title}\n                        data-item-description={description}\n                        data-item-image={cardImage}\n                    >\n                        Add to Basket\n                    </Button>\n                    //highlight-end\n                </Box>\n            </Box>\n        </Box>\n    );\n};\n')),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:s.Z,alt:"basket"})),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"One of the biggest features that distinguishes ",(0,r.kt)("strong",{parentName:"p"},"refine")," from other frameworks is that it is customizable. Combined with ",(0,r.kt)("strong",{parentName:"p"},"refine")," ",(0,r.kt)("strong",{parentName:"p"},"headless"),", it now provides more customization options. This provides a great deal of convenience in the project you will develop."),(0,r.kt)("p",null,"As you can see in this article, we have developed the Client part of our ",(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/guides-and-concepts/multi-tenancy/strapi-v4/"},"Admin Panel"),", which we have done before, with ",(0,r.kt)("strong",{parentName:"p"},"refine"),". ",(0,r.kt)("strong",{parentName:"p"},"refine")," offers the opportunity to develop B2B and B2C applications without any restrictions and in a fully customizable manner."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/guides-and-concepts/multi-tenancy/strapi-v4/"},"Refer to the Admin side of the project \u2192")),(0,r.kt)("h2",{id:"live-codesandbox-example"},"Live Codesandbox Example"),(0,r.kt)("iframe",{src:"https://codesandbox.io/embed/refine-ecommerce-example-9rvzv?autoresize=1&fontsize=14&theme=dark&view=preview",style:{width:"100%",height:"80vh",border:"0px",borderRadius:"8px",overflow:"hidden"},title:"refine-ecommerce-example",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}))}h.isMDXComponent=!0},59128:(A,e,t)=>{t.d(e,{Z:()=>n});const n=t.p+"assets/images/basket-d34c963b93a97167b8c5363ff3819152.gif"},37511:(A,e,t)=>{t.d(e,{Z:()=>n});const n=t.p+"assets/images/page_size-0639a0143886236f5c27853b1637cd37.gif"},59789:(A,e,t)=>{t.d(e,{Z:()=>n});const n=t.p+"assets/images/pagination-73f06f762777cdd7bf4775aaead0b39a.gif"},48141:(A,e,t)=>{t.d(e,{Z:()=>n});const n=t.p+"assets/images/products-fe5eec261283889b8ee737133a5091ca.png"},34068:(A,e,t)=>{t.d(e,{Z:()=>n});const n=t.p+"assets/images/sample_product-694357cb0a89f95347a6e00171f2300f.png"}}]);